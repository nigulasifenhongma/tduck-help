# 更新日志
::: tip News！TduckPro 4.3  已推送 ~
:::

## TduckPro 4.3 更新日志2023-1-3

1. 新增我的待填功能
2. 新增数据备注功能
3. 新增冬季主题
4. 增加编辑器样式修复文件，整理统一的修复样式
5. 升级springboot和knife4j版本等&jackson全局优化
6. 优化全局组件风格
7. 优化商品组件表单支付功能
8. 优化商品组件付款时记录保存
9. 优化子表单移动端显示效果
10. 优化单选项，需要选择框与答案的第一行对齐
11. 优化问卷题目前星号置于第一行
12. 优化表单设置时间&启动增加版本打印&已办任务分页失效
13. 优化打开验证码功能uniapp登录被拦截
14. 优化表单发布菜单顺序
15. 优化部分功能名称：**“指定成员发布”更改为“协同管理”、“协作编辑”更改为“共享表单”**
16. 修复矩阵选择组件样式异常问题
17. 修复流程发起人异常问题
18. 修复已办任务分页失效
19. 修复公开查询时查询项重复问题#169

**升级需执行：**♻️  v4.3_update.sql

## TduckPro 4.2 更新日志2022-11-29

1. 更新阿里云短信SDK，解决某些情况发送失败的问题
2. 新增省市组件添加详细地址按钮
3. 优化创建表单时重复点击创建多个表单的问题
4. 优化下拉选择适配移动端、矩阵填空优化、修复#252，#250,#249
5. 优化表单编辑右侧菜单显示不全
6. 修复 generate-form-item key 重复导致渲染假死
7. 优化reserve 组件名额配置不能为0问题
8. 优化reserve and reserveTimeRange 组件修复必填规则
9. 修复商品组件金额显示问题
10. 修复数据模块下的查询里添加查询置空条件报错
11. 矩阵 编辑默认值的弹窗显示不全 #235
12. 公开查询页面回车会报错 #261
13. 补充创建文件夹请求状态，调整搜索框样
14. 优化查看表单提交数据显示不全
15. 修复省市级联错误&查看编辑数据时无法滑动
16. uniapp端修复预览和数据无法打开
17. uniapp端富文本导致json参数错误
18. uniapp端修复流程列表页swiper滑动

## TduckPro 4.1 更新日志2022-10-10

1. 新增多选名额设置
2. 新增多选互斥属性设置
3. 新增多选框组件排列设置
4. 新增数据列表固定列设置
5. 新增单选名额设置
6. 新增数据列表固定列
7. 优化多选框组件样式
8. 优化级联选择组件在ios端的选择体验
9. 优化微信分享设置的样式
10. 优化流程表单某些情况下找不到审核人
11. 优化函数计算组件参数为0时不生效
12. 优化了横向填空数据输入时效果
13. 优化数据查看页显示效果并增加打印
14. 后端springboot依赖升级至2.7.3以及其他依赖升级，修复相关漏洞
15. 完全移除elasticserach依赖，后续版本将不在使用

## TduckPro 4.0 更新日志2022-8-30

1. 外观-背景颜色不能支持修改
2. 表单数据列表页面，支持缩略图点击预览 #216
3. 流程图显示不完整 #214
4. 上传组件下方的提示信息不是很友好 #202
5. 删除按钮不能在权限按钮内控制 #204
6. 表单数据列表页面，支持缩略图点击预览
7. 优化微信用户获取
8. 表单分享卡片设置不能正常显示
9. 优化图片选择组件显示样式自适应宽度
10. 公开查询、数据详情页样式优化
11. 函数计算值为0时不重置
12. 其他优化见工单

## TduckPro 3.1 更新日志2022-7-18

1. 矩阵系列组件移动端适配。
2. 流程重构，更换流程引擎为flowable。
3. 新增抄送，会签，或签，转办，委派，加签，动态审批人等。
4. 去除必须引入ElasticSearch，增加Mysql实现。
5. 设置重构优化增加一些功能。
6. 级联增加批量添加。
7. 公开查询支持同时多个，条件设置等。
8. 增加预约时段组件。
9. 逻辑重构，增加多对多逻辑设置。


>   PS：本次为重构大版本，无法无缝升级到新版本，
>    具体影响的有流程，表单设置，表单模板，表单逻辑等。
>
> 更新指南：更新前请备份好数据，数据无价。
> 删除除act_business_design act_business_process 之外的act_/ACT_开头的表，
> 这些表为activiti的表，然后执行doc/ [v4.0_update.sql](https://git.tduckcloud.com/tduck/tduck-pro-platform/src/branch/master/doc/v4.0_update.sql)   [flowable.sql](https://git.tduckcloud.com/tduck/tduck-pro-platform/src/branch/master/doc/flowable.sql)
> 部分表中数据结构存在变更，可选择性修复或删除，包括表单逻辑，模板，
> 公开查询等表。


## TduckPro  更新日志2022-5-6

1. 新增商品组件，支持微信付款后提交
2. 新增预约组件，可配置每周天预约人数
3. 新增公式组件，根据表单填写值计算
4. 表单标题支持富文本编辑
5. 初步支持考试功能，单选多选单行文本等，提交后计算分数
6. 流程审核前端页面优化
7. 移动端创建表单bug修复
8. 单选多选增加投票功能
9. 多项细节优化以及问题修复，详情参考工单已关闭问题
> 更新执行doc/v3.1_update.sql

## TduckPro 3.0 更新日志2022-3-29

1. 增加团队协作功能，可以分配给用户，部门，角色为协作者，共同维护表单。
2. 表单数据增加公开查询入口，可指定查询条件及数据。
3. 表单数据增加回复功能，可在开启公开查询时对数据进行回复。
4. 表单组件增加随机编号功能，可以在提交数据库时自动生成显示，作为反馈编号使用。
5. 单行文本组件增加唯一功能，开启后只允许提交一次。
6. 地理位置组件增加经纬度属性。
7. 通知邮箱支持从系统用户选择。
8. 提交按钮可以设置是否显示。
9. 表单主题增加主题色，可以控制表单全局主题色。
10.  优化矩阵子表单等组件数据导出格式。
11. 优化表单分享url长度
12. 初步适配Oracle Pgsql等数据库，通过MybatisPlus来实现兼容，后续更新只维护Mysql版本sql。
13.  增加注册功能，可在系统设置-参数设置中开启或关闭注册
14. 增加记录已提交数据功能及开关
15. 优化部分页面样式等细节

更新请执行doc/v3.0_update.sql脚本
> 注意：本次更新表结构存在较大变更，对主题部分字段存在删除，请注意数据安全，选择性更新 。


## TduckPro 2.4 更新 2022-3-12

1. 修复表单文件夹删除失败问题
2. 分割线显示颜色和设置的不一致
3. 评分题最大值设置为20
4. 表单上传组件问题
5. 流程条件增加文字包含和不包含

## TduckPro 2.3 更新 2022-3-04

1. 我的表单点击文件重命名没有任何反应，也无报错。
2. 创建表单增加员工选择组件错误
3. 修复角色数据权限分配不够，创建表单提交报错
4. 通知公告指定接收人bug
5. 企业表单-我的表单-数据模块显示异常
6. 企业表单-我的表单-无法移到表单到根下
7. 邮件通知多个邮箱校验格式出错
8. 修复指定成员发布部分设置无效
9. select组件在移动端使用时，第一次点击无法选中，需要第二次才会选中

## TduckPro 2.2 更新 2022-2-18

1. 修复子表单里面下拉单选等value/label型组件显示错误 #tduck-pro-front/issues/42
2. 表单权限遗漏部分修复 #tduck-pro-platform/issues/44
3. 权限组部门无法搜索  #tduck-pro-front/issues/58
4. 用户角色岗位无法修改 # tduck-pro-front/issues/73
5. 延长填写完跳转地址时间为3s  # tduck-pro-front/issues/72
6. 人员选择组件无数据展示  tduck-pro-front/issues/67
7. 当一个用户多角色后，出现部分菜单显示错误 #tduck-pro-platform/issues/51
8. 修复流程审批通过/拒绝时错误
9. 优化数据列表部分组件显示 如图片/ 文件矩阵等
10. 重构文件导出为后端实现,并优化部分数据导出格式。
11. 下拉选择类型把下拉选项删除完，添加浏览器直接卡死   #tduck-pro-front/issues/57
12. 优化导入表单数据部分问题
> 感谢群友 @思源 提供部分问题解决方案


## TduckPro 2.1 更新 2022-1-25

1. 修复表单key越权访问
2. 页面tduck文案统一从系统配置获取
3. 修复序号显示异常
4. 修复分页时显示逻辑不生效
5. 部分页面微调适应移动端
6. 优化填写页打开速度
7. 分页其他选项输入问题
8. 修复工单关闭的问题
9. 下拉单选单选 支持字典获取数据
10. 优化地理位置组件

## TduckPro 2.0 更新 2022-1-17

1. 表单增加流程表单，基于Activiti7实现工作流，新建表单时可选择流程表单创建流程表单，支持对登录用户以及未登录用户提交数据进行流程审批。
2. 流程设计支持审批人和条件节点，审批人支持设置为岗位，角色，人员等（支持多选），支持流程通过或拒绝向指定api发送请求，设置审批节点可查看或编辑的字段权限，条件支持根据表单提交数据动态选择下一分支。
3. 添加审批相关页面，包括我的流程，待我审批，已办任务等页面，支持通过，拒绝，退回任务等。支持查看提交表单数据，流程图，流转步骤。
4. 增加消息模块，包含我的消息（系统公告通知等），消息日志，消息模板等（可配置系统邮件，短信模板Id，公众号模板消息Id）
5. 增加系统配置功能，支持页面配置系统基础信息，邮箱，公众号，短信，文件存储，OCR等配置
6. 表单组件新增数字，滑块，排序，员工选择，部门选择，OCR识别等。
7. 表单设置增加保存未提交数据开关，密码填写开关。
8. 表单增加文件夹功能，分组管理表单文件。
9. 系统UI整体优化，增加国际化i18n支持。
10. 首页面板重新设计，增加流程站内信等板块，常用功能等。
11. 表单查询功能增加，支持提交人选择等。
12. 优化表单页提交页加载速度。
> 更多细节在线体验
